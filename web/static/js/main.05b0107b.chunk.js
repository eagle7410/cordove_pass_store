(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{2:function(e,t){e.exports={PREFIX_CATEGORY_ADD:"CategoryAdd",PREFIX_CATEGORIES:"Categories",PREFIX_STORE_ADD:"StoreAdding",PREFIX_STORE_FILTERS:"StoreFilters",PREFIX_STORE:"Store",PREFIX_MENU_LEFT:"MenuLeft",PREFIX_ACCOUNT:"Account",PREFIX_ALERT:"Alert"}},236:function(e,t,a){e.exports=a(459)},241:function(e,t,a){},459:function(e,t,a){"use strict";a.r(t);var n,r=a(0),o=a.n(r),c=a(29),i=a(157),s=(a(241),a(41)),l=a(42),u=a(80),d=a(75),p=a(81),m=a(18),g=a(27),E="OK",f="BAD",h="WARN",b="OK",w="BAD",O="WARN",v=a(2),C=a(22),y=a.n(C),R=a(76),S=a.n(R),P=a(79),I=a.n(P),j=a(78),A=a.n(j),T=a(214),x=a.n(T),F=a(77),k=a.n(F),_=a(211),X=a.n(_),N=a(213),L=a.n(N),D=a(212),U=a.n(D),B=a(40),G=a(120),M=a(5),W=a(23),z=function(e){return{root:{flexGrow:1,zIndex:1,overflow:"hidden",position:"relative",display:"flex"},appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginLeft:12,marginRight:36},hide:{display:"none"},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(W.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:7*e.spacing.unit},e.breakpoints.up("sm"),{width:9*e.spacing.unit}),toolbar:Object(M.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),content:{flexGrow:1,backgroundColor:e.palette.background.default,padding:3*e.spacing.unit},button:{margin:20,fontSize:20},leftIcon:{marginRight:e.spacing.unit},rightIcon:{marginLeft:e.spacing.unit}}},Y={marginRight:2},q=Object(B.a)(function(e){return{store:e.Alert}},function(e){return{close:function(){return e({type:"".concat(v.PREFIX_ALERT,"Close")})}}})(Object(G.withStyles)(z,{withTheme:!0})(function(e){var t=e.classes,a="",n={backgroundColor:"#e0e0e0",color:"#000"};if(e.store.isShowIcon)switch(e.store.showIcon){case b:a=o.a.createElement(X.a,{style:Y});break;case w:a=o.a.createElement(U.a,{style:Y});break;case O:a=o.a.createElement(L.a,{style:Y})}switch(e.store.type){case E:n={backgroundColor:"#2196f3",color:"#fff"};break;case f:n={backgroundColor:"#f50057",color:"#fff"};break;case h:n={backgroundColor:"#ffeb3b",color:"#000"}}return o.a.createElement("div",null,o.a.createElement(S.a,{open:e.store.isOpen,onClose:e.close,scroll:"paper","aria-labelledby":"scroll-dialog-title"},o.a.createElement(k.a,{id:"scroll-dialog-title"},"System message"),o.a.createElement(A.a,null,o.a.createElement(x.a,null,e.store.message)),o.a.createElement(I.a,null,o.a.createElement("div",null,o.a.createElement(y.a,{className:t.button,style:n,onClick:e.close},a,e.store.labelOk)))))})),K=localStorage,H=function(){function e(){Object(s.a)(this,e)}return Object(l.a)(e,null,[{key:"setItem",value:function(e,t){K.setItem(e,t)}},{key:"getItem",value:function(e){return K.getItem(e)}}]),e}(),J=a(17),Q=a.n(J),V=a(25),Z=a(84),$=(a(391),a(393),function(){function e(){Object(s.a)(this,e)}return Object(l.a)(e,null,[{key:"isErrorAboutDuplicationApp",value:function(e){return e&&e.code&&"app/duplicate-app"===e.code}},{key:"authUser",value:function(e,t,a){var r=this;return new Promise(function(o,c){try{n=Z.initializeApp(e)}catch(i){if(!r.isErrorAboutDuplicationApp(i))return c(i)}n.auth().signInWithEmailAndPassword(t,a).catch(function(e){if(e)return c("Error code: ".concat(e.code,", message: ").concat(e.message))}),n.auth().onAuthStateChanged(function(e){return e?e.isAnonymous?c("Bad user authorization in firebase"):void o(e):c("User not found")})})}},{key:"getCollection",value:function(){var e=Object(V.a)(Q.a.mark(function e(t){var a,r;return Q.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.database().ref(t),e.next=3,a.once("value");case 3:return r=e.sent,e.abrupt("return",r.val());case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},{key:"removeByKey",value:function(){var e=Object(V.a)(Q.a.mark(function e(t,a){var n;return Q.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Z.database().ref(t),e.next=3,n.child(a).remove();case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}()},{key:"setNew",value:function(){var e=Object(V.a)(Q.a.mark(function e(t,a,n){var r;return Q.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=Z.database().ref(t),e.next=3,r.child(a).set(n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e)}));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"addNew",value:function(){var e=Object(V.a)(Q.a.mark(function e(t,a){var n;return Q.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Z.database().ref(t),e.next=3,n.push(a);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}()},{key:"setCollection",value:function(){var e=Object(V.a)(Q.a.mark(function e(t,a){return Q.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z.database().ref(t).set(a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}()},{key:"getData",value:function(){var e=Object(V.a)(Q.a.mark(function e(){var t,a;return Q.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getCollection("store");case 2:return t=e.sent,e.next=5,this.getCollection("categories");case 5:return a=e.sent,e.abrupt("return",{store:t,categories:a});case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),e}()),ee=a(8),te=a.n(ee),ae=a(56),ne=a.n(ae),re=a(219),oe=a.n(re),ce=a(220),ie=a.n(ce),se=a(30),le=a.n(se),ue=a(217),de=a.n(ue),pe=a(218),me=a.n(pe),ge=a(159),Ee=a.n(ge),fe=a(36),he=a.n(fe),be=a(123),we=a.n(be),Oe=a(35),ve=a.n(Oe),Ce=a(49),ye=a.n(Ce),Re=a(48),Se=a.n(Re),Pe=a(97),Ie=a.n(Pe),je=a(54),Ae=a.n(je),Te=Object(m.b)(function(e){return{store:e.Account}},function(e){return{isAuth:function(t){return e({type:"".concat(v.PREFIX_ACCOUNT,"IsAuth")})},setStore:function(t){return e({type:"".concat(v.PREFIX_STORE,"Set"),data:t})},setCategories:function(t){return e({type:"".concat(v.PREFIX_CATEGORIES,"Set"),data:t})},selectedEmail:function(t){return e({type:"".concat(v.PREFIX_ACCOUNT,"SelectEmail"),data:t})},setCredentials:function(t){return e({type:"".concat(v.PREFIX_ACCOUNT,"SetCredential"),data:t})},configLoadRun:function(){return e({type:"".concat(v.PREFIX_ACCOUNT,"ConfigLoadRun")})},configLoadStop:function(){return e({type:"".concat(v.PREFIX_ACCOUNT,"ConfigLoadStop")})},showError:function(t){return e({type:"".concat(v.PREFIX_ALERT,"OpenError"),message:t})}}})(Object(g.e)(te()(function(e){return{main:Object(W.a)({width:"auto",display:"block",marginLeft:3*e.spacing.unit,marginRight:3*e.spacing.unit},e.breakpoints.up(400+3*e.spacing.unit*2),{width:360,marginLeft:"auto",marginRight:"auto"}),paper:{marginTop:8*e.spacing.unit,display:"flex",flexDirection:"column",alignItems:"center",padding:"".concat(2*e.spacing.unit,"px ").concat(3*e.spacing.unit,"px ").concat(3*e.spacing.unit,"px")},form:{width:"100%",marginTop:e.spacing.unit},submit:{marginTop:3*e.spacing.unit}}})(function(e){var t=e.classes,a=e.store,n=a.credentials,r=a.emailSelected,c=a.isLoad,i=[],s=!0,l=!1,u=void 0;try{for(var d,p=n[Symbol.iterator]();!(s=(d=p.next()).done);s=!0){var m=d.value.email;i.push(o.a.createElement(Se.a,{value:m,key:"singItem".concat(m)},m))}}catch(f){l=!0,u=f}finally{try{s||null==p.return||p.return()}finally{if(l)throw u}}var g=function(){var t=Object(V.a)(Q.a.mark(function t(){var a,o,c,i,s,l,u;return Q.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.configLoadRun(),t.prev=1,a=n.find(function(e){return e.email===r})){t.next=5;break}return t.abrupt("return",!1);case 5:return o=a.email,c=a.credential,i=a.password,t.next=8,$.authUser(c,o,i);case 8:return t.next=10,$.getData();case 10:s=t.sent,l=s.store,u=s.categories,e.setCategories(u),e.setStore(l),e.isAuth(),e.history.push("/data-list"),t.next=22;break;case 19:t.prev=19,t.t0=t.catch(1),e.showError("Error load config: ".concat(t.t0.message||t.t0));case 22:return t.prev=22,e.configLoadStop(),t.finish(22);case 25:case"end":return t.stop()}},t,null,[[1,19,22,25]])}));return function(){return t.apply(this,arguments)}}(),E=c?o.a.createElement(we.a,{size:24}):o.a.createElement("span",null);return o.a.createElement("main",{className:t.main},o.a.createElement(ne.a,null),o.a.createElement(le.a,{className:t.paper},o.a.createElement("div",{className:t.form},o.a.createElement(he.a,{className:t.formControl,fullWidth:!0},o.a.createElement(ye.a,{htmlFor:"credentials-helper"},"Credential"),o.a.createElement(Ae.a,{value:r,onChange:function(t){return e.selectedEmail(t.target.value)},input:o.a.createElement(ve.a,{name:"credentials",id:"credentials-helper"})},o.a.createElement(Se.a,{value:""},o.a.createElement("em",null,"None")),i),o.a.createElement(Ie.a,null,"Select you credentials by email")),o.a.createElement(y.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,disabled:!r.length||c,onClick:g},"Sign in",E))))}))),xe=a(216),Fe=a.n(xe),ke=a(99),_e=a.n(ke),Xe=a(64),Ne=a.n(Xe),Le=a(65),De=a.n(Le),Ue=a(57),Be=a.n(Ue),Ge=a(7),Me=a.n(Ge),We=Object(m.b)(function(e){return{store:e.Account}},function(e){return{setStore:function(t){return e({type:"".concat(v.PREFIX_STORE,"Set"),data:t})},setCategories:function(t){return e({type:"".concat(v.PREFIX_CATEGORIES,"Set"),data:t})},addCredential:function(t,a,n){return e({type:"".concat(v.PREFIX_ACCOUNT,"AddCredential"),data:{email:t,password:a,credential:n}})},changeEmail:function(t){return e({type:"".concat(v.PREFIX_ACCOUNT,"ChangeEmail"),value:t})},changePassword:function(t){return e({type:"".concat(v.PREFIX_ACCOUNT,"ChangePassword"),value:t})},changeConfig:function(t){return e({type:"".concat(v.PREFIX_ACCOUNT,"ChangeConfig"),value:t})},toggleShowConfig:function(){return e({type:"".concat(v.PREFIX_ACCOUNT,"ToggleShowConfig")})},toggleShowPassword:function(){return e({type:"".concat(v.PREFIX_ACCOUNT,"ToggleShowPassword")})},configLoadRun:function(){return e({type:"".concat(v.PREFIX_ACCOUNT,"ConfigLoadRun")})},configLoadStop:function(){return e({type:"".concat(v.PREFIX_ACCOUNT,"ConfigLoadStop")})},showError:function(t){return e({type:"".concat(v.PREFIX_ALERT,"OpenError"),message:t})}}})(Object(g.e)(te()(function(e){return{main:Object(W.a)({width:"auto",display:"block",marginLeft:3*e.spacing.unit,marginRight:3*e.spacing.unit},e.breakpoints.up(400+3*e.spacing.unit*2),{width:360,marginLeft:"auto",marginRight:"auto"}),paper:{marginTop:8*e.spacing.unit,display:"flex",flexDirection:"column",alignItems:"center",padding:"".concat(2*e.spacing.unit,"px ").concat(3*e.spacing.unit,"px ").concat(3*e.spacing.unit,"px")},button:{margin:e.spacing.unit},extendedIcon:{margin:e.spacing.unit},input:{display:"none"}}})(function(e){var t=e.classes,a=e.store,n=a.newCredentials,r=a.credentials,c=a.isLoad,i=n.email,s=n.password,l=n.isShowConfig,u=n.isShowPassword,d=n.config,p=c?o.a.createElement(we.a,{size:24}):o.a.createElement("span",null),m=function(){var t=Object(V.a)(Q.a.mark(function t(){var a,n,o,c,l,u,p,m,g,E,f,h,b;return Q.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.configLoadRun(),t.prev=1,i.length){t.next=4;break}return t.abrupt("return",e.showError("Email is required"));case 4:if(s.length){t.next=6;break}return t.abrupt("return",e.showError("Password is required"));case 6:if(d.length){t.next=8;break}return t.abrupt("return",e.showError("Credentials is required"));case 8:a={},t.prev=9,n=JSON.parse(d),o=n.apiKey,c=n.authDomain,l=n.databaseURL,u=n.projectId,p=n.storageBucket,m=n.messagingSenderId,a={apiKey:o,authDomain:c,databaseURL:l,projectId:u,storageBucket:p,messagingSenderId:m},t.next=17;break;case 14:return t.prev=14,t.t0=t.catch(9),t.abrupt("return",e.showError("Error parse config: ".concat(t.t0.message||t.t0)));case 17:g=Object.values(a),E=0;case 19:if(!(E<g.length)){t.next=26;break}if(g[E]){t.next=23;break}return t.abrupt("return",e.showError("Credentials is invalid"));case 23:E++,t.next=19;break;case 26:return t.next=28,$.authUser(a,i,s);case 28:return e.addCredential(i,s,a),H.setItem("credentials",JSON.stringify(r.concat([{email:i,password:s,credential:a}]))),t.next=32,$.getData();case 32:f=t.sent,h=f.store,b=f.categories,e.setCategories(b),e.setStore(h),e.history.push("/data-list"),t.next=43;break;case 40:t.prev=40,t.t1=t.catch(1),e.showError("Error load config: ".concat(t.t1.message||t.t1));case 43:return t.prev=43,e.configLoadStop(),t.finish(43);case 46:case"end":return t.stop()}},t,null,[[1,40,43,46],[9,14]])}));return function(){return t.apply(this,arguments)}}();return o.a.createElement("main",{className:t.main},o.a.createElement(ne.a,null),o.a.createElement(le.a,{className:t.paper},o.a.createElement(he.a,{margin:"normal",required:!0,fullWidth:!0},o.a.createElement(ye.a,{htmlFor:"email"},"Email"),o.a.createElement(ve.a,{id:"email",name:"email",autoFocus:!0,value:i,onChange:function(t){return e.changeEmail(t.target.value)}})),o.a.createElement(he.a,{className:Me()(t.margin,t.textField),fullWidth:!0},o.a.createElement(ye.a,{htmlFor:"adornment-password"},"Password"),o.a.createElement(ve.a,{id:"adornment-password",type:u?"text":"password",value:s,onChange:function(t){return e.changePassword(t.target.value)},endAdornment:o.a.createElement(_e.a,{position:"end"},o.a.createElement(Be.a,{"aria-label":"Toggle password visibility",onClick:e.toggleShowPassword},u?o.a.createElement(Ne.a,null):o.a.createElement(De.a,null)))})),o.a.createElement(he.a,{className:Me()(t.margin,t.textField),fullWidth:!0},o.a.createElement(ye.a,{htmlFor:"adornment-config"},"Credentials"),o.a.createElement(ve.a,{id:"adornment-config",type:l?"text":"password",value:d,onChange:function(t){return e.changeConfig(t.target.value)},endAdornment:o.a.createElement(_e.a,{position:"end"},o.a.createElement(Be.a,{"aria-label":"Toggle config visibility",onClick:e.toggleShowConfig},l?o.a.createElement(Ne.a,null):o.a.createElement(De.a,null)))})),o.a.createElement(he.a,{margin:"normal",fullWidth:!0},o.a.createElement(y.a,{variant:"contained",color:"primary",onClick:m,className:t.button,disabled:!i.length||!d.length||!s.length||c,fullWidth:!0},"Apply",o.a.createElement(Fe.a,{className:t.extendedIcon}),p))))}))),ze=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentWillMount",value:function(){this.props.initAuth()}},{key:"render",value:function(){var e,t=this.props.classes,a=this.props.store.accountActiveTab;switch(a){case 0:e=o.a.createElement(Te,null);break;case 1:e=o.a.createElement(We,null);break;default:e=o.a.createElement("div",null,"No set")}return o.a.createElement("main",{className:t.main},o.a.createElement(ne.a,null),o.a.createElement(le.a,{className:t.paper},o.a.createElement(de.a,{position:"static",color:"primary"},o.a.createElement(me.a,{onChange:this.props.changeTab,classes:Ye.appBar,value:a,variant:"scrollable",indicatorColor:"secondary",scrollButtons:"off"},o.a.createElement(Ee.a,{label:"Sign in",icon:o.a.createElement(oe.a,null)}),o.a.createElement(Ee.a,{label:"Sign up",icon:o.a.createElement(ie.a,null)}))),e))}}]),t}(r.Component),Ye=function(e){return{main:Object(W.a)({width:"auto",display:"block",marginLeft:3*e.spacing.unit,marginRight:3*e.spacing.unit},e.breakpoints.up(400+3*e.spacing.unit*2),{width:400,marginLeft:"auto",marginRight:"auto"}),paper:{marginTop:8*e.spacing.unit,display:"flex",flexDirection:"column",alignItems:"center",padding:"".concat(2*e.spacing.unit,"px ").concat(3*e.spacing.unit,"px ").concat(3*e.spacing.unit,"px")},appBar:{margin:e.spacing.unit,backgroundColor:e.palette.background.paper}}},qe=Object(B.a)(function(e){return{store:e.Account}},function(e){return{initAuth:function(){return e({type:"".concat(v.PREFIX_ACCOUNT,"Init")})},changeTab:function(t,a){return e({type:"".concat(v.PREFIX_ACCOUNT,"ChangeTab"),value:a})}}})(te()(Ye)(ze)),Ke=a(156),He=a.n(Ke),Je=a(154),Qe=a.n(Je),Ve=a(221),Ze=a.n(Ve),$e=a(151),et=a.n($e),tt=a(155),at=a.n(tt),nt=a(222),rt=a.n(nt),ot=Object(B.a)(function(e){return{store:e.MenuLeft}},function(e){return{open:function(){return e({type:"".concat(v.PREFIX_MENU_LEFT,"Open")})}}})(Object(g.e)(Object(G.withStyles)(function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(M.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginLeft:12,marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(W.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:7*e.spacing.unit},e.breakpoints.up("sm"),{width:9*e.spacing.unit}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,padding:3*e.spacing.unit,height:"100vh",overflow:"auto"},chartContainer:{marginLeft:-22},tableContainer:{height:320},h5:{marginBottom:2*e.spacing.unit}}},{withTheme:!0})(function(e){var t=e.classes;return o.a.createElement(at.a,{position:"absolute",className:Me()(t.appBar,e.store.open&&t.appBarShift)},o.a.createElement(He.a,{disableGutters:!e.store.open},o.a.createElement(Qe.a,{color:"inherit","aria-label":"Open drawer",onClick:e.open,className:Me()(t.menuButton,e.store.open&&t.hide)},o.a.createElement(Ze.a,null)),o.a.createElement(et.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,className:t.title},e.title),o.a.createElement(y.a,{color:"inherit",onClick:function(){return e.history.push("/")}},o.a.createElement(rt.a,null)," Logout")))}))),ct=a(225),it=a.n(ct),st=a(153),lt=a.n(st),ut=a(228),dt=a.n(ut),pt=a(227),mt=a.n(pt),gt=a(226),Et=a.n(gt),ft=a(229),ht=a.n(ft),bt=a(230),wt=a.n(bt),Ot=a(223),vt=a.n(Ot),Ct=a(224),yt=a.n(Ct),Rt=a(152),St=a.n(Rt),Pt=Object(B.a)(function(e){return{store:e.MenuLeft}},function(e){return{}})(Object(g.e)(Object(G.withStyles)(z,{withTheme:!0})(function(e){var t=e.path===e.location.pathname?{backgroundColor:"rgb(218, 218, 218)"}:{};return o.a.createElement(St.a,{button:!0,style:t,onClick:function(){return e.history.push(e.path)}},o.a.createElement(vt.a,null,e.children),o.a.createElement(yt.a,{primary:e.label||"Unknown"}))}))),It=Object(m.b)(function(e){return{store:e.MenuLeft}},function(e){return{close:function(){return e({type:"".concat(v.PREFIX_MENU_LEFT,"Close")})}}})(Object(G.withStyles)(z,{withTheme:!0})(function(e){var t=e.classes,a=e.theme;return o.a.createElement(it.a,{variant:"permanent",classes:{paper:Me()(t.drawerPaper,!e.store.open&&t.drawerPaperClose)},open:e.store.open},o.a.createElement("div",{className:t.toolbar},o.a.createElement(Be.a,{onClick:e.close},"rtl"===a.direction?o.a.createElement(Et.a,null):o.a.createElement(mt.a,null))),o.a.createElement(dt.a,null),o.a.createElement(lt.a,null,o.a.createElement(Pt,{label:"Data list",path:"/data-list"},o.a.createElement(ht.a,null)),o.a.createElement(Pt,{label:"Categories",path:"/categories"},o.a.createElement(wt.a,null))))})),jt=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.store.isAuth||this.props.history.push("/")}},{key:"render",value:function(){var e=this.props.classes;return o.a.createElement("div",{className:e.root},o.a.createElement(ne.a,null),o.a.createElement(ot,{title:this.props.title}),o.a.createElement(It,null),o.a.createElement("main",{className:e.content},o.a.createElement("div",{className:e.appBarSpacer}),this.props.children))}}]),t}(r.Component),At=Object(m.b)(function(e){return{store:e.Account}},function(e){return{}})(Object(g.e)(Object(G.withStyles)(function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(M.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginLeft:12,marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(W.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:7*e.spacing.unit},e.breakpoints.up("sm"),{width:9*e.spacing.unit}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,padding:3*e.spacing.unit,height:"100vh",overflow:"auto"},chartContainer:{marginLeft:-22},tableContainer:{height:320},h5:{marginBottom:2*e.spacing.unit}}})(jt))),Tt=a(82),xt=a.n(Tt),Ft=a(126),kt=a.n(Ft),_t=a(127),Xt=a.n(_t),Nt=a(50),Lt=a.n(Nt),Dt=a(20),Ut=a.n(Dt),Bt=a(128),Gt=a.n(Bt),Mt=a(44),Wt=a.n(Mt),zt=a(124),Yt=a.n(zt),qt=a(231),Kt=a.n(qt),Ht=a(232),Jt=a.n(Ht),Qt=Object(m.b)(function(e){return{store:e.Store}},function(e){return{openEdit:function(t){return e({type:"".concat(v.PREFIX_STORE_ADD,"Edit"),data:t})},remove:function(t){return e({type:"".concat(v.PREFIX_STORE,"Remove"),data:t})},toggleShowPassword:function(t){return e({type:"".concat(v.PREFIX_STORE,"ToggleShowPass"),data:t})},showError:function(t){return e({type:"".concat(v.PREFIX_ALERT,"OpenError"),message:t})}}})(function(e){var t=e.row,a=function(){var a=Object(V.a)(Q.a.mark(function a(n){return Q.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(n.preventDefault(),window.confirm()){a.next=3;break}return a.abrupt("return",!1);case 3:return a.prev=3,a.next=6,$.removeByKey("store",t.dbId);case 6:e.remove(t),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(3),e.showError(a.t0.message||a.t0);case 12:case"end":return a.stop()}},a,null,[[3,9]])}));return function(e){return a.apply(this,arguments)}}();return o.a.createElement("span",null,o.a.createElement(Wt.a,{title:"Delete"},o.a.createElement(y.a,{onClick:function(e){return a(e)}},o.a.createElement(Yt.a,{key:"icoDel".concat(t.id)}))),o.a.createElement(Wt.a,{title:"Edit"},o.a.createElement(y.a,{onClick:function(a){return function(a){a.preventDefault(),e.openEdit(t)}(a)}},o.a.createElement(Kt.a,{key:"icoEdit".concat(t.id)}))),o.a.createElement(Wt.a,{title:"Copy password"},o.a.createElement(y.a,{onClick:function(a){return function(){try{var a=document.createElement("textarea");a.innerHTML=t.pass,document.body.appendChild(a),a.select(),document.execCommand("copy"),a.remove()}catch(n){e.showError("Error copy to buffer")}}()}},o.a.createElement(Jt.a,{key:"icoCopy".concat(t.id)}))),o.a.createElement(Wt.a,{title:t.isShowPassword?"Hide password":"Show password"},o.a.createElement(y.a,{onClick:function(a){return e.toggleShowPassword(t.id)}},t.isShowPassword?o.a.createElement(De.a,null):o.a.createElement(Ne.a,null))))}),Vt=a(100),Zt=a.n(Vt),$t=a(125),ea=a.n($t),ta=a(233),aa=a.n(ta),na=a(98),ra=a.n(na),oa=a(47),ca=a.n(oa),ia=a(46),sa=Object(m.b)(function(e){return{store:e.Store}},function(e){return{add:function(){return e({type:"".concat(v.PREFIX_STORE_ADD,"Open")})},toggleShowFilters:function(){return e({type:"".concat(v.PREFIX_STORE,"ToggleShowFilters")})}}})(Object(G.withStyles)(function(e){return{root:{paddingRight:e.spacing.unit},fab:{marginLeft:4,transitionDuration:"0.2s",transitionProperty:"transform",transform:"rotate(360deg)",webkitTransform:"rotate(360deg)"},fabRotate:{transitionDuration:"0.2s",transitionProperty:"transform",transform:"rotate(180deg)",webkitTransform:"rotate(180deg)"},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(ia.lighten)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},spacer:{flex:"1 1 100%"},actions:{display:"inherit",color:e.palette.text.secondary},title:{flex:"0 0 auto"}}})(function(e){var t=e.classes,a=e.store.isShowFilters;return o.a.createElement(ra.a,{className:t.root},o.a.createElement("div",{className:t.title},o.a.createElement(ca.a,{variant:"h6",id:"tableTitle"},"Data list")),o.a.createElement("div",{className:t.spacer}),o.a.createElement("div",{className:t.actions},[o.a.createElement(Wt.a,{title:"Filters list",key:"dataToolFilter"},o.a.createElement(Zt.a,{color:"primary","aria-label":"Filters",className:a?t.fabRotate:t.fab,onClick:e.toggleShowFilters},o.a.createElement(aa.a,{variant:"contained"}))),o.a.createElement(Wt.a,{title:"Add to list",key:"dataToolAdd"},o.a.createElement(Zt.a,{color:"primary","aria-label":"Add",className:t.fab,onClick:e.add},o.a.createElement(ea.a,{variant:"contained"})))]))})),la=a(234),ua=a.n(la),da={tap:"th",align:"left"},pa=Object(M.a)({},da,{align:"right"}),ma=function(){return o.a.createElement(ua.a,null,o.a.createElement(Lt.a,null,o.a.createElement(Ut.a,pa,"Action"),o.a.createElement(Ut.a,da,"Title ",o.a.createElement("br",null)," Login"),o.a.createElement(Ut.a,da,"Password"),o.a.createElement(Ut.a,da,"Category"),o.a.createElement(Ut.a,da,"Answer"),o.a.createElement(Ut.a,da,"Description")))},ga=a(43),Ea=a(38),fa=a.n(Ea),ha=Object(m.b)(function(e){return{store:e.StoreFilters,categories:e.Categories}},function(e){return{onChange:function(t,a){return e({type:"".concat(v.PREFIX_STORE_FILTERS,"Change"),data:{field:t,value:a}})}}})(function(e){var t=e.store,a=t.category,n=t.titleLogin,r=t.answer,c=t.description,i=e.categories.items;return o.a.createElement(Lt.a,null,o.a.createElement(Ut.a,{component:"td",scope:"row"}),o.a.createElement(Ut.a,{component:"td",scope:"row"},o.a.createElement(fa.a,{value:n,onChange:function(t){return e.onChange("titleLogin",t.target.value)}})),o.a.createElement(Ut.a,{component:"td",scope:"row"}),o.a.createElement(Ut.a,{component:"td",scope:"row"},o.a.createElement(Ae.a,{value:a,onChange:function(t){return e.onChange("category",t.target.value)}},o.a.createElement(Se.a,{value:-1},o.a.createElement("em",null,"All categories")),Object.entries(i).map(function(e,t){var a=Object(ga.a)(e,2),n=a[0],r=a[1];return o.a.createElement(Se.a,{value:Number(n),key:"catFilter".concat(t)},r)}))),o.a.createElement(Ut.a,{component:"td",scope:"row"},o.a.createElement(fa.a,{value:r,onChange:function(t){return e.onChange("answer",t.target.value)}})),o.a.createElement(Ut.a,{component:"td",scope:"row"},o.a.createElement(fa.a,{value:c,onChange:function(t){return e.onChange("description",t.target.value)}})))}),ba=Object(m.b)(function(e){return{store:e.Store,filters:e.StoreFilters,data:e.Categories}},function(e){return{page:function(t){return e({type:"".concat(v.PREFIX_STORE,"SetPage"),data:t})},rowsOnPage:function(t){return e({type:"".concat(v.PREFIX_STORE,"SetRowsOnPage"),data:t})}}})(Object(G.withStyles)(z)(function(e){var t=e.classes,a=e.store,n=a.items,r=a.page,c=a.rowsPerPage,i=a.selected,s=a.isShowFilters,l=a.order,u=a.orderBy,d=e.filters,p=d.category,m=d.titleLogin,g=d.answer,E=d.description,f=e.data.items,h=[].concat(n).filter(function(e){return!(p>0&&e.category!==p||!(e.title+e.login).toLowerCase().includes(m.toLowerCase())||!e.answer.includes(g)||!e.desc.includes(E))}),b=s?o.a.createElement(ha,null):null;return o.a.createElement("div",null,o.a.createElement(sa,null),o.a.createElement("div",{className:t.tableWrapper},o.a.createElement(kt.a,{className:t.table,"aria-labelledby":"tableTitle"},o.a.createElement(ma,null),o.a.createElement(Xt.a,null,b,function(e,t){var a=e.map(function(e,t){return[e,t]});return a.sort(function(e,a){var n=t(e[0],a[0]);return 0!==n?n:e[1]-a[1]}),a.map(function(e){return e[0]})}(h,function(e,t){return"desc"===e?function(e,a){return wa(e,a,t)}:function(e,a){return-wa(e,a,t)}}(l,u)).slice(r*c,r*c+c).map(function(e){var t=i.includes(e.id);return o.a.createElement(Lt.a,{hover:!0,"aria-checked":t,tabIndex:-1,key:"cat".concat(e.id),selected:t},o.a.createElement(Ut.a,{component:"td",scope:"row",align:"right"},o.a.createElement(Qt,{row:e})),o.a.createElement(Ut.a,{component:"td",scope:"row"},e.title,o.a.createElement("br",null),e.login),o.a.createElement(Ut.a,{component:"td",scope:"row"},e.isShowPassword?e.pass:"*".repeat(e.pass.length)),o.a.createElement(Ut.a,{component:"td",scope:"row"},f[e.category]||"Category not found"),o.a.createElement(Ut.a,{component:"td",scope:"row"},e.answer),o.a.createElement(Ut.a,{component:"td",scope:"row"},e.desc.split("\n").map(function(t,a){return o.a.createElement("div",{key:"elem".concat(Number(e.id)+a)},t)})))})))),o.a.createElement(Gt.a,{component:"div",count:h.length,rowsPerPage:c,page:r,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"},onChangePage:function(t,a){return e.page(a)},onChangeRowsPerPage:function(t){return e.rowsOnPage(t.target.value)}}))}));function wa(e,t,a){return t[a]<e[a]?-1:t[a]>e[a]?1:0}var Oa=Object(m.b)(function(e){return{categories:e.Categories,store:e.StoreAdd,data:e.Store}},function(e){return{editInStore:function(t){return e({type:"".concat(v.PREFIX_STORE,"EditRecord"),data:t})},addToStore:function(t){return e({type:"".concat(v.PREFIX_STORE,"AddRecord"),data:t})},toggleShowPassword:function(){return e({type:"".concat(v.PREFIX_STORE_ADD,"ToggleShowPassword")})},updateCategories:function(t){return e({type:"".concat(v.PREFIX_CATEGORIES,"Set"),data:t})},load:function(){return e({type:"".concat(v.PREFIX_STORE_ADD,"LoadRun")})},loadStop:function(){return e({type:"".concat(v.PREFIX_STORE_ADD,"LoadStop")})},close:function(){return e({type:"".concat(v.PREFIX_STORE_ADD,"Close")})},change:function(t,a){return e({type:"".concat(v.PREFIX_STORE_ADD,"ChangeField"),data:{field:t,value:a}})},showError:function(t){return e({type:"".concat(v.PREFIX_ALERT,"OpenError"),message:t})}}})(Object(G.withStyles)(function(e){return{formControlMoreTop:Object(M.a)({},e.formControl,{paddingTop:15})}})(function(e){var t=e.classes,a=e.store,n=a.id,r=a.dbId,c=a.isOpen,i=a.isLoad,s=a.title,l=a.login,u=a.isShowPassword,d=a.pass,p=a.category,m=a.answer,g=a.desc,E=e.categories.items,f=e.data.items,h=function(){var t=Object(V.a)(Q.a.mark(function t(){var a,o,c,i,u,h,b,w,O,v,C,y,R,S,P,I,j,A,T,x,F,k;return Q.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.load(),t.prev=1,(s+l).length){t.next=5;break}throw new Error("Must have login or title");case 5:if(-1!==p){t.next=7;break}throw new Error("Category is required");case 7:if(d.length){t.next=9;break}throw new Error("Password is required");case 9:if(a=s+l+p,null===n){t.next=46;break}o=!0,c=!1,i=void 0,t.prev=14,u=f[Symbol.iterator]();case 16:if(o=(h=u.next()).done){t.next=27;break}if(b=h.value,w=b.title,O=b.login,v=b.category,C=b.id,w+O+v!==a||C===n){t.next=24;break}throw new Error("In category ".concat(E[v]," has record with title, login: ").concat(w,", ").concat(O));case 24:o=!0,t.next=16;break;case 27:t.next=33;break;case 29:t.prev=29,t.t0=t.catch(14),c=!0,i=t.t0;case 33:t.prev=33,t.prev=34,o||null==u.return||u.return();case 36:if(t.prev=36,!c){t.next=39;break}throw i;case 39:return t.finish(36);case 40:return t.finish(33);case 41:return y={title:s.trim(),login:l.trim(),pass:d.trim(),answer:m.trim(),desc:g.trim(),id:n,category:p},t.next=44,$.setNew("store",r,y);case 44:return e.editInStore(y),t.abrupt("return",e.close());case 46:R=!0,S=!1,P=void 0,t.prev=49,I=f[Symbol.iterator]();case 51:if(R=(j=I.next()).done){t.next=61;break}if(A=j.value,T=A.title,x=A.login,F=A.category,T+x+F!==a){t.next=58;break}throw new Error("In category ".concat(E[F]," has record with title, login: ").concat(T,", ").concat(x));case 58:R=!0,t.next=51;break;case 61:t.next=67;break;case 63:t.prev=63,t.t1=t.catch(49),S=!0,P=t.t1;case 67:t.prev=67,t.prev=68,R||null==I.return||I.return();case 70:if(t.prev=70,!S){t.next=73;break}throw P;case 73:return t.finish(70);case 74:return t.finish(67);case 75:return k={id:Date.now(),title:s.trim(),login:l.trim(),pass:d.trim(),answer:m.trim(),desc:g.trim(),category:p},t.next=78,$.addNew("store",k);case 78:e.addToStore(k),e.close(),t.next=86;break;case 82:t.prev=82,t.t2=t.catch(1),console.error(t.t2),e.showError(t.t2.message||t.t2);case 86:return t.prev=86,e.loadStop(),t.finish(86);case 89:case"end":return t.stop()}},t,null,[[1,82,86,89],[14,29,33,41],[34,,36,40],[49,63,67,75],[68,,70,74]])}));return function(){return t.apply(this,arguments)}}(),b="Add new record",w="Add";return null!==n&&(b="Edit record",w="Edit"),o.a.createElement("div",null,o.a.createElement(S.a,{open:c,onClose:e.close,"aria-labelledby":"form-dialog-title"},o.a.createElement(k.a,{id:"form-dialog-title"},b),o.a.createElement(A.a,null,o.a.createElement(fa.a,{autoFocus:!0,margin:"dense",id:"title",label:"Title",onChange:function(t){return e.change("title",t.target.value)},disabled:i,value:s,fullWidth:!0}),o.a.createElement(fa.a,{autoFocus:!0,margin:"dense",id:"login",label:"Login",onChange:function(t){return e.change("login",t.target.value)},disabled:i,value:l,fullWidth:!0}),o.a.createElement(he.a,{className:Me()(t.margin,t.textField),fullWidth:!0},o.a.createElement(ye.a,{htmlFor:"adornment-password"},"Password"),o.a.createElement(ve.a,{id:"adornment-password",type:u?"text":"password",value:d,onChange:function(t){return e.change("pass",t.target.value)},endAdornment:o.a.createElement(_e.a,{position:"end"},o.a.createElement(Be.a,{"aria-label":"Toggle password visibility",onClick:function(){return e.toggleShowPassword()}},u?o.a.createElement(Ne.a,null):o.a.createElement(De.a,null)))})),o.a.createElement(he.a,{className:t.formControlMoreTop,fullWidth:!0},o.a.createElement(Ae.a,{value:p,onChange:function(t){return e.change("category",t.target.value)},inputProps:{name:"category",id:"category"}},Object.entries(E).map(function(e,t){var a=Object(ga.a)(e,2),n=a[0],r=a[1];return o.a.createElement(Se.a,{value:Number(n),key:"catNewRecord".concat(t)},r)})),o.a.createElement(Ie.a,null,"Need selected category")),o.a.createElement(fa.a,{autoFocus:!0,margin:"dense",id:"answer",label:"answer",onChange:function(t){return e.change("answer",t.target.value)},disabled:i,value:m,fullWidth:!0}),o.a.createElement(fa.a,{id:"desc",label:"Description",placeholder:"Description",className:t.textField,rowsMax:10,value:g,onChange:function(t){return e.change("desc",t.target.value)},margin:"normal",multiline:!0,fullWidth:!0})),o.a.createElement(I.a,null,o.a.createElement(y.a,{onClick:e.close,disabled:i,color:"primary"},"Cancel"),o.a.createElement(y.a,{onClick:h,disabled:i,color:"primary"},w))))})),va=function(){return o.a.createElement(At,{title:"Data List"},o.a.createElement(xt.a,{container:!0},o.a.createElement(xt.a,{item:!0,md:12},o.a.createElement(le.a,null,o.a.createElement(ba,null),o.a.createElement(Oa,null)))))},Ca=Object(m.b)(function(e){return{store:e.CategoryAdd}},function(e){return{add:function(){return e({type:"".concat(v.PREFIX_CATEGORY_ADD,"Open")})}}})(Object(G.withStyles)(function(e){return{root:{paddingRight:e.spacing.unit},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(ia.lighten)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},spacer:{flex:"1 1 100%"},actions:{color:e.palette.text.secondary},title:{flex:"0 0 auto"}}})(function(e){var t=e.classes;return o.a.createElement(ra.a,{className:t.root},o.a.createElement("div",{className:t.title},o.a.createElement(ca.a,{variant:"h6",id:"tableTitle"},"Categories")),o.a.createElement("div",{className:t.spacer}),o.a.createElement("div",{className:t.actions},o.a.createElement(Wt.a,{title:"Add to list"},o.a.createElement(Zt.a,{color:"primary","aria-label":"Add",className:t.fab,onClick:e.add},o.a.createElement(ea.a,null)))))})),ya=Object(m.b)(function(e){return{store:e.Categories,data:e.Store}},function(e){return{showError:function(t){return e({type:"".concat(v.PREFIX_ALERT,"OpenError"),message:t})},page:function(t){return e({type:"".concat(v.PREFIX_CATEGORIES,"SetPage"),data:t})},rowsOnPage:function(t){return e({type:"".concat(v.PREFIX_CATEGORIES,"SetRowsOnPage"),data:t})},setCategories:function(t){return e({type:"".concat(v.PREFIX_CATEGORIES,"Set"),data:t})}}})(Object(G.withStyles)(z)(function(e){var t=e.classes,a=e.store,n=a.items,r=a.page,c=a.rowsPerPage,i=a.selected,s=a.order,l=a.orderBy,u=e.data.items,d={};u.map(function(e){d[e.category]||(d[e.category]=0),d[e.category]++});var p=[].concat(Object.entries(n).map(function(e){var t=Object(ga.a)(e,2),a=t[0],n=t[1];return{id:Number(a),name:n}})),m=c-Math.min(c,p.length-r*c),g=function(){var t=Object(V.a)(Q.a.mark(function t(a,r){var o;return Q.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),window.confirm("You real want delete category ".concat(r.name))){t.next=3;break}return t.abrupt("return",!1);case 3:if(t.prev=3,!(Number(d[r.id]||0)>0)){t.next=6;break}throw new Error("Category must be free");case 6:return o={},Object.keys(n).map(function(e){Number(e)!==r.id&&(o[e]=n[e])}),t.next=10,$.setCollection("categories",o);case 10:return t.next=12,$.getCollection("categories");case 12:o=t.sent,e.setCategories(o),t.next=19;break;case 16:t.prev=16,t.t0=t.catch(3),e.showError(t.t0.message||t.t0);case 19:case"end":return t.stop()}},t,null,[[3,16]])}));return function(e,a){return t.apply(this,arguments)}}();return o.a.createElement("div",null,o.a.createElement(Ca,null),o.a.createElement("div",{className:t.tableWrapper},o.a.createElement(kt.a,{className:t.table,"aria-labelledby":"tableTitle"},o.a.createElement(Xt.a,null,function(e,t){var a=e.map(function(e,t){return[e,t]});return a.sort(function(e,a){var n=t(e[0],a[0]);return 0!==n?n:e[1]-a[1]}),a.map(function(e){return e[0]})}(p,function(e,t){return"desc"===e?function(e,a){return Ra(e,a,t)}:function(e,a){return-Ra(e,a,t)}}(s,l)).slice(r*c,r*c+c).map(function(e){var t=d[e.id]||0,a=i.includes(e.id);return o.a.createElement(Lt.a,{hover:!0,role:"checkbox","aria-checked":a,tabIndex:-1,key:"cat".concat(e.id),selected:a},o.a.createElement(Ut.a,{component:"th",scope:"row"},o.a.createElement(y.a,{disabled:t>0,onClick:function(t){return g(t,e)}},o.a.createElement(Yt.a,{key:"icoDel".concat(e.id)})),e.name," (",t,")"))}),m>0&&o.a.createElement(Lt.a,{style:{height:49*m},key:"catEmpty"})))),o.a.createElement(Gt.a,{component:"div",count:p.length,rowsPerPage:c,page:r,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"},onChangePage:function(t,a){return e.page(a)},onChangeRowsPerPage:function(t){return e.rowsOnPage(t.target.value)}}))}));function Ra(e,t,a){return t[a]<e[a]?-1:t[a]>e[a]?1:0}var Sa=Object(m.b)(function(e){return{store:e.CategoryAdd,categories:e.Categories}},function(e){return{updateCategories:function(t){return e({type:"".concat(v.PREFIX_CATEGORIES,"Set"),data:t})},load:function(){return e({type:"".concat(v.PREFIX_CATEGORY_ADD,"LoadRun")})},loadStop:function(){return e({type:"".concat(v.PREFIX_CATEGORY_ADD,"LoadStop")})},close:function(){return e({type:"".concat(v.PREFIX_CATEGORY_ADD,"Close")})},change:function(t){return e({type:"".concat(v.PREFIX_CATEGORY_ADD,"ChaneName"),data:t})},showError:function(t){return e({type:"".concat(v.PREFIX_ALERT,"OpenError"),message:t})}}})(function(e){var t=e.store,a=t.isOpen,n=t.isLoad,r=t.name,c=e.categories,i=c.idMax,s=c.items,l=function(){var t=Object(V.a)(Q.a.mark(function t(){var a,n;return Q.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.load(),a=Object.values(s).map(function(e){return e.toLowerCase().trim()}),t.prev=2,r.length){t.next=5;break}throw new Error("Name is required");case 5:if(!a.includes(r.toLowerCase())){t.next=7;break}throw new Error("Name must be unique");case 7:return t.next=9,$.setCollection("categories",Object(M.a)({},s,Object(W.a)({},i+1,r)));case 9:return t.next=11,$.getCollection("categories");case 11:n=t.sent,e.updateCategories(n),e.close(),t.next=19;break;case 16:t.prev=16,t.t0=t.catch(2),e.showError(t.t0.message||t.t0);case 19:return t.prev=19,e.loadStop(),t.finish(19);case 22:case"end":return t.stop()}},t,null,[[2,16,19,22]])}));return function(){return t.apply(this,arguments)}}();return o.a.createElement("div",null,o.a.createElement(S.a,{open:a,onClose:e.close,"aria-labelledby":"form-dialog-title"},o.a.createElement(k.a,{id:"form-dialog-title"},"Add category"),o.a.createElement(A.a,null,o.a.createElement(fa.a,{autoFocus:!0,margin:"dense",id:"name",label:"Category name",onChange:function(t){return e.change(t.target.value)},disabled:n,value:r,fullWidth:!0})),o.a.createElement(I.a,null,o.a.createElement(y.a,{onClick:e.close,disabled:n,color:"primary"},"Cancel"),o.a.createElement(y.a,{onClick:l,disabled:n,color:"primary"},"Add"))))}),Pa=function(){return o.a.createElement(At,{title:"Categories"},o.a.createElement(xt.a,{container:!0},o.a.createElement(xt.a,{item:!0,md:5},o.a.createElement(le.a,null,o.a.createElement(ya,null),o.a.createElement(Sa,null)))))},Ia=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentWillMount",value:function(){try{var e=H.getItem("credentials");this.props.setCredentials(JSON.parse(e))}catch(t){this.props.showError("Error get data from localStore: ".concat(t.message||t))}}},{key:"render",value:function(){return o.a.createElement("div",{className:"App"},o.a.createElement("header",{className:"App-header"},o.a.createElement(g.c,null,o.a.createElement(g.a,{path:"/",exact:!0,component:qe}),o.a.createElement(g.a,{path:"/data-list",component:va}),o.a.createElement(g.a,{path:"/categories",component:Pa}))),o.a.createElement(q,null))}}]),t}(r.Component),ja=Object(m.b)(function(e){return{store:e.Account}},function(e){return{setCredentials:function(t){return e({type:"".concat(v.PREFIX_ACCOUNT,"SetCredential"),data:t})},showError:function(t){return e({type:"".concat(v.PREFIX_ALERT,"OpenError"),message:t})}}})(Ia),Aa=a(101),Ta=a(55),xa={items:{},idMax:0,page:0,selected:[],rowsPerPage:10,order:"desc",orderBy:"id"},Fa={isOpen:!1,isLoad:!1,name:""},ka={open:!1,location:"/"},_a={isShowConfig:!1,isShowPassword:!1,email:"",password:"",config:""},Xa={isAuth:!1,isLoad:!1,accountActiveTab:0,credentials:[],emailSelected:"",newCredentials:Object(M.a)({},_a)},Na={category:-1,titleLogin:"",answer:"",description:""},La={id:null,isOpen:!1,isLoad:!1,title:"",login:"",isShowPassword:!1,pass:"",category:-1,answer:"",desc:""},Da={isShowFilters:!1,page:0,selected:[],rowsPerPage:10,order:"desc",orderBy:"id",items:[]},Ua={isOpen:!1,type:E,message:"",isShowIcon:!0,showIcon:b,labelOk:"Read"},Ba=Object(Ta.combineReducers)({routing:Aa.routerReducer,StoreFilters:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Na,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"".concat(v.PREFIX_STORE_FILTERS,"Change"):var a=t.data,n=a.field,r=a.value;return Object(M.a)({},e,Object(W.a)({},n,r))}return e},CategoryAdd:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fa,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"".concat(v.PREFIX_CATEGORY_ADD,"LoadRun"):return Object(M.a)({},e,{isLoad:!0});case"".concat(v.PREFIX_CATEGORY_ADD,"LoadStop"):return Object(M.a)({},e,{isLoad:!1});case"".concat(v.PREFIX_CATEGORY_ADD,"ChaneName"):return Object(M.a)({},e,{name:t.data.trim()});case"".concat(v.PREFIX_CATEGORY_ADD,"Open"):return Object(M.a)({},Fa,{isOpen:!0});case"".concat(v.PREFIX_CATEGORY_ADD,"Close"):return Object(M.a)({},e,{isOpen:!1})}return e},Categories:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xa,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"".concat(v.PREFIX_CATEGORIES,"SetPage"):return Object(M.a)({},e,{page:t.data});case"".concat(v.PREFIX_CATEGORIES,"SetRowsOnPage"):return Object(M.a)({},e,{rowsPerPage:t.data});case"".concat(v.PREFIX_CATEGORIES,"Set"):for(var a={},n=0,r=Object.entries(t.data),o=0;o<r.length;o++){var c=r[o],i=Object(ga.a)(c,2),s=i[0],l=i[1];s>n&&(n=Number(s)),l&&(a[s]=l)}return Object(M.a)({},e,{items:a,idMax:n})}return e},MenuLeft:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ka;switch((arguments.length>1?arguments[1]:void 0).type){case"".concat(v.PREFIX_MENU_LEFT,"Open"):return Object(M.a)({},e,{open:!0});case"".concat(v.PREFIX_MENU_LEFT,"Close"):return Object(M.a)({},e,{open:!1})}return e},StoreAdd:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:La,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"".concat(v.PREFIX_STORE_ADD,"LoadRun"):return Object(M.a)({},e,{isLoad:!0});case"".concat(v.PREFIX_STORE_ADD,"LoadStop"):return Object(M.a)({},e,{isLoad:!1});case"".concat(v.PREFIX_STORE_ADD,"ToggleShowPassword"):return Object(M.a)({},e,{isShowPassword:!e.isShowPassword});case"".concat(v.PREFIX_STORE_ADD,"ChangeField"):return Object(M.a)({},e,Object(W.a)({},t.data.field,t.data.value));case"".concat(v.PREFIX_STORE_ADD,"Edit"):return Object(M.a)({},La,t.data,{isOpen:!0});case"".concat(v.PREFIX_STORE_ADD,"Open"):return Object(M.a)({},La,{isOpen:!0});case"".concat(v.PREFIX_STORE_ADD,"Close"):return Object(M.a)({},La,{isOpen:!1})}return e},Account:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xa,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"".concat(v.PREFIX_ACCOUNT,"IsAuth"):return Object(M.a)({},e,{isAuth:!0});case"".concat(v.PREFIX_ACCOUNT,"SelectEmail"):return Object(M.a)({},e,{emailSelected:t.data});case"".concat(v.PREFIX_ACCOUNT,"Init"):return Object(M.a)({},e,{accountActiveTab:0,newCredentials:Object(M.a)({},_a),isAuth:!1,isLoad:!1});case"".concat(v.PREFIX_ACCOUNT,"SetCredential"):return Object(M.a)({},e,{credentials:t.data||[]});case"".concat(v.PREFIX_ACCOUNT,"AddCredential"):return Object(M.a)({},e,{newCredentials:Object(M.a)({},_a),credentials:e.credentials.concat([t.data]),isAuth:!0});case"".concat(v.PREFIX_ACCOUNT,"ConfigLoadRun"):return Object(M.a)({},e,{isLoad:!0});case"".concat(v.PREFIX_ACCOUNT,"ToggleShowPassword"):return Object(M.a)({},e,{newCredentials:Object(M.a)({},e.newCredentials,{isShowPassword:!e.newCredentials.isShowPassword})});case"".concat(v.PREFIX_ACCOUNT,"ToggleShowConfig"):return Object(M.a)({},e,{newCredentials:Object(M.a)({},e.newCredentials,{isShowConfig:!e.newCredentials.isShowConfig})});case"".concat(v.PREFIX_ACCOUNT,"ChangeConfig"):return Object(M.a)({},e,{newCredentials:Object(M.a)({},e.newCredentials,{config:t.value})});case"".concat(v.PREFIX_ACCOUNT,"ChangeTab"):return Object(M.a)({},e,{accountActiveTab:t.value});case"".concat(v.PREFIX_ACCOUNT,"ChangePassword"):return Object(M.a)({},e,{newCredentials:Object(M.a)({},e.newCredentials,{password:t.value})});case"".concat(v.PREFIX_ACCOUNT,"ChangeEmail"):return Object(M.a)({},e,{newCredentials:Object(M.a)({},e.newCredentials,{email:t.value})})}return e},Store:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Da,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"".concat(v.PREFIX_STORE,"EditRecord"):return Object(M.a)({},e,{items:e.items.map(function(e){return e.id===t.data.id?Object(M.a)({},e,t.data):e})});case"".concat(v.PREFIX_STORE,"Remove"):return Object(M.a)({},e,{items:e.items.filter(function(e){return e.dbId!==t.data.dbId})});case"".concat(v.PREFIX_STORE,"AddRecord"):return Object(M.a)({},e,{items:e.items.concat([Object(M.a)({},t.data)])});case"".concat(v.PREFIX_STORE,"ToggleShowFilters"):return Object(M.a)({},e,{isShowFilters:!e.isShowFilters});case"".concat(v.PREFIX_STORE,"ToggleShowPass"):return Object(M.a)({},e,{items:e.items.map(function(e){return e.id===t.data&&(e.isShowPassword=!e.isShowPassword),e})});case"".concat(v.PREFIX_STORE,"SetPage"):return Object(M.a)({},e,{page:t.data});case"".concat(v.PREFIX_STORE,"SetRowsOnPage"):return Object(M.a)({},e,{rowsPerPage:t.data});case"".concat(v.PREFIX_STORE,"Set"):return Object(M.a)({},e,{items:Object.entries(t.data).map(function(e){var t=Object(ga.a)(e,2),a=t[0],n=t[1];return Object(M.a)({},n,{isShowPassword:!1,dbId:a})})})}return e},Alert:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ua,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"".concat(v.PREFIX_ALERT,"Close"):return Object(M.a)({},Ua);case"".concat(v.PREFIX_ALERT,"Open"):return Object(M.a)({},e,t.data,{isOpen:!0});case"".concat(v.PREFIX_ALERT,"OpenError"):return Object(M.a)({},e,{message:t.message,isOpen:!0,showIcon:w,type:f});case"".concat(v.PREFIX_ALERT,"OpenOk"):return Object(M.a)({},e,{message:t.message,isOpen:!0,showIcon:b,type:E})}return e}}),Ga=a(235),Ma=a(31),Wa=Object(Ma.a)(),za=Object(Aa.routerMiddleware)(Wa),Ya=Object(Ta.createStore)(Ba,Object(Ga.composeWithDevTools)(Object(Ta.applyMiddleware)(za))),qa=Object(Aa.syncHistoryWithStore)(Wa,Ya);Object(c.render)(o.a.createElement(i.a,{history:qa},o.a.createElement(m.a,{store:Ya},o.a.createElement(ja,null))),document.getElementById("root"))}},[[236,1,2]]]);
//# sourceMappingURL=main.05b0107b.chunk.js.map